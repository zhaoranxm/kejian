<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
/*
    预解析:
        // var a
        a = function a(){}
        b = function b(){}
        var c
    执行上下文:
        function a(){}
        a = 5   
        b = 6
        c = d = b   window.d = 6;
*/
// +function(){
//     console.log(a) //函数function a(){}
//     var a=5;
//     function a(){}
//     console.log(a) //5
//     function b(){}
//     b=6
//     console.log(b) //6
//     var c=d=b// window.d = 6
    
// }()
// console.log(d) //6  window.d
// console.log(c) //报错




//this
/*
    事件触发是谁，this就是谁
    window  全局打印this  fn()  this是window
    对象下的this 就是.前面的主
*/
// var obj = {
//     val:2,
//     dbl:function(){
//         var val = 45;
//         console.log(this); //obj
//         this.val *= 2;
//         console.log(val); //45
//         console.log(this.val);//4
//     }
// }
// var ff = obj.dbl(); //obj  45  4    
// var fn = obj.dbl; //window  45  NaN
// fn();



// let obj2 = {
//     style:{
//         fn:function(){
//             console.log(this);
//         }
//     }
// }
// obj2.style.fn(); //this是obj2下的style对象
    // let f = obj2.style.fn;
    // f();//前面没有主所以就是 window


function fn(){
        console.log(this); //document
    }    
    // document.onclick = function(){
    //     fn();
    // };
    document.onclick = (function(){
        console.log(this); //window
        return fn;
    })();
</script>